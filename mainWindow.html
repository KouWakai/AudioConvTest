<!DOCTYPE html>
<html lang="en">
<head>
    <title>AudioConv</title>
    <link rel="stylesheet"
       href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
</head>
<body>
    <div class="container">
    <form>
        <div>
            <button id="filesSelect" type="button" class="waves-effect waves-light btn-small">Select files</button>
            <p class="flow-text" id="input-file"></p>
        </div>
        <div>
            <button id="convert" type="button" class="waves-effect waves-light btn-small">Convert</button>
        </div>
    </form>
    </div>

    <script>
        const electron = require('electron');
        const { ipcRenderer } = electron;

        const form = document.querySelector('form');

        const BtnFilesSelect = document.getElementById('filesSelect');
        const BtnConvert = document.getElementById('convert');

        BtnFilesSelect.addEventListener('click', filesSelect);
        BtnConvert.addEventListener('click', convert);

        function filesSelect(e){
            ipcRenderer.invoke('file-open')
            .then((result) => {
                if(result.status == undefined){
                    return(false);
                }
                if(!result.status){
                    alert('Could not open the file\n${result.message');
                    return(false);
                }
                document.getElementById('input-file').innerHTML = result.name;
            })
        }

        function convert(e){
                ipcRenderer.send('Convert');
        }

    </script>
</body>
</html>